"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3526],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>u});var n=a(7294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var o=n.createContext({}),m=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},c=function(e){var t=m(e.components);return n.createElement(o.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,r=e.originalType,o=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),p=m(a),u=l,y=p["".concat(o,".").concat(u)]||p[u]||h[u]||r;return a?n.createElement(y,s(s({ref:t},c),{},{components:a})):n.createElement(y,s({ref:t},c))}));function u(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=a.length,s=new Array(r);s[0]=p;var i={};for(var o in t)hasOwnProperty.call(t,o)&&(i[o]=t[o]);i.originalType=e,i.mdxType="string"==typeof e?e:l,s[1]=i;for(var m=2;m<r;m++)s[m]=a[m];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}p.displayName="MDXCreateElement"},4110:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>s,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>m});var n=a(7462),l=(a(7294),a(3905));const r={title:"shyama Server Installation",description:"Shyama Central Server Installation",keywords:["shyama","installation"]},s="Shyama Central Server Installation",i={unversionedId:"installation/shyama_install",id:"installation/shyama_install",title:"shyama Server Installation",description:"Shyama Central Server Installation",source:"@site/docs/installation/shyama_install.md",sourceDirName:"installation",slug:"/installation/shyama_install",permalink:"/docs/installation/shyama_install",draft:!1,editUrl:"https://github.com/gyeeta.github.io/tree/main/docs/installation/shyama_install.md",tags:[],version:"current",lastUpdatedAt:1667829731,formattedLastUpdatedAt:"Nov 7, 2022",frontMatter:{title:"shyama Server Installation",description:"Shyama Central Server Installation",keywords:["shyama","installation"]},sidebar:"docs",previous:{title:"shyama Server Configuration",permalink:"/docs/installation/shyama_config"},next:{title:"Partha Agent Installation",permalink:"/docs/installation/partha_install"}},o={},m=[{value:"Network Connectivity Requirements",id:"network",level:2},{value:"Installation Instructions",id:"installation-instructions",level:2},{value:"Install using Shell script",id:"install-using-shell-script",level:3},{value:"Running as a Docker container",id:"docker",level:3},{value:"Kubernetes Helm Chart",id:"helm-chart",level:3}],c={toc:m};function h(e){let{components:t,...a}=e;return(0,l.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"shyama-central-server-installation"},"Shyama Central Server Installation"),(0,l.kt)("p",null,"Shyama Server is the only component in Gyeeta which will interact with all other components."),(0,l.kt)("h2",{id:"network"},"Network Connectivity Requirements"),(0,l.kt)("p",null,"As Shyama will communicate with all other components, Shyama needs to be installed on a host that can be\nconnected to by all other components and all Hosts that need to be monitored."),(0,l.kt)("p",null,"It is recommended that the Shyama server and its PostgresDB be in the same Network Regin and Zone to limit\nNetwork costs and for better performance."),(0,l.kt)("h2",{id:"installation-instructions"},"Installation Instructions"),(0,l.kt)("h3",{id:"install-using-shell-script"},"Install using Shell script"),(0,l.kt)("p",null,"Users can download a shell script that takes care of the installation and configuration of the Shyama instance.\nBefore installing Shyama, users need to craete a JSON config file as per the ",(0,l.kt)("a",{parentName:"p",href:"./shyama_config"},"Shyama Config"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"curl -o /tmp/install-gyeeta-shyama.sh -s https://gyeeta.io/packages/install-gyeeta-shyama.sh\n")),(0,l.kt)("p",null,"Then run the install script as : "),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"sudo bash /tmp/install-gyeeta-shyama.sh <Path to Shyama Config fiel in JSON format>")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Example Install Command"',title:'"Example',Install:!0,'Command"':!0},"\nsudo bash /tmp/install-gyeeta-shyama.sh /tmp/shyama.json\n\n")),(0,l.kt)("p",null,"The install script SHA256 can be checked before installing. The SHA256 of the install script is available at ",(0,l.kt)("a",{parentName:"p",href:"https://gyeeta.io/packages/install-gyeeta-shyama.sh.sum"},"SHA256 file")),(0,l.kt)("h3",{id:"docker"},"Running as a Docker container"),(0,l.kt)("p",null,"A JSON config file is first needed as per ",(0,l.kt)("a",{parentName:"p",href:"./shyama_config"},"Shyama Config")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"\ndocker run --rm -td --name shyama --read-only --user 1001:1001 -p 10037:10037 --env CFG_MAIN_JSON=/tmp/shyama.json -v /tmp/shyama.json:/tmp/shyama.json:ro ghcr.io/gyeeta/shyama start\n\n")),(0,l.kt)("p",null,"In the above command, /tmp/shyama.jso file is already presnet in the main host."),(0,l.kt)("h3",{id:"helm-chart"},"Kubernetes Helm Chart"),(0,l.kt)("p",null,"Kubernetes 1.18 or higher is needed along with Helm v3."),(0,l.kt)("p",null,"Execute the command : "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"\nhelm repo add gyeeta https://gyeeta.io/helmcharts\n\nhelm show values gyeeta/shyama > /tmp/shyama.yaml\n\n")),(0,l.kt)("p",null,"Thereafter you can edit the /tmp/shyama.yaml file if you need to change any option. "),(0,l.kt)("p",null,"Therafter, install the Shyama Helm chart using :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"\nhelm install --namespace gyeeta --create-namespace shyama1  gyeeta/shyama -f /tmp/shyama.yaml\n\n")))}h.isMDXComponent=!0}}]);