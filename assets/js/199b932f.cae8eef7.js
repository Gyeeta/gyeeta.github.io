"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4876],{3905:(e,t,n)=>{n.d(t,{Zo:()=>h,kt:()=>c});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},h=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,h=s(e,["components","mdxType","originalType","parentName"]),d=p(n),c=i,u=d["".concat(l,".").concat(c)]||d[c]||m[c]||r;return n?a.createElement(u,o(o({ref:t},h),{},{components:n})):a.createElement(u,o({ref:t},h))}));function c(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,o[1]=s;for(var p=2;p<r;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},1672:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>m,frontMatter:()=>r,metadata:()=>s,toc:()=>p});var a=n(7462),i=(n(7294),n(3905));const r={title:"Partha Agent Configuration",description:"Partha Host Agent Configuration",keywords:["partha","configuration"]},o="Partha Host Agent Configuration",s={unversionedId:"installation/partha_config",id:"installation/partha_config",title:"Partha Agent Configuration",description:"Partha Host Agent Configuration",source:"@site/docs/installation/partha_config.md",sourceDirName:"installation",slug:"/installation/partha_config",permalink:"/docs/installation/partha_config",draft:!1,editUrl:"https://github.com/gyeeta.github.io/tree/main/docs/installation/partha_config.md",tags:[],version:"current",lastUpdatedAt:1668278331,formattedLastUpdatedAt:"Nov 12, 2022",frontMatter:{title:"Partha Agent Configuration",description:"Partha Host Agent Configuration",keywords:["partha","configuration"]},sidebar:"docs",previous:{title:"madhava Server Installation",permalink:"/docs/installation/madhava_install"},next:{title:"Partha Agent Installation",permalink:"/docs/installation/partha_install"}},l={},p=[{value:"Cluster Name",id:"cluster-name",level:2},{value:"Shyama Hosts",id:"shyama-hosts",level:2},{value:"Shyama Ports",id:"shyama-ports",level:2},{value:"Is Kubernetes",id:"is-kubernetes",level:2},{value:"Service Response Sampling Percent",id:"sampling-percent",level:2},{value:"Cloud Operator Type",id:"cloud-type",level:2},{value:"Network Region Name",id:"region-name",level:2},{value:"Network Zone Name",id:"zone-name",level:2},{value:"Sample JSON Config file",id:"sample-json",level:2}],h={toc:p};function m(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"partha-host-agent-configuration"},"Partha Host Agent Configuration"),(0,i.kt)("p",null,"The Partha Host Agent is to be installed on each host that requires to be monitored. The Partha Agent will\ncommunicate with the Shyama Central Server and the assigned Madhava server."),(0,i.kt)("p",null,"Partha agent reads its configuration from a ",(0,i.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/JSON"},"JSON")," file or as environment variables.\nEnvironment variables will take precedence over the config file in case of a conflict."),(0,i.kt)("p",null,"A sample Partha JSON config file is given ",(0,i.kt)("a",{parentName:"p",href:"#sample-json"},"below"),"."),(0,i.kt)("p",null,"The list of Config options include :"),(0,i.kt)("h2",{id:"cluster-name"},"Cluster Name"),(0,i.kt)("p",null,"Each Monitored host is assumed to be part of a Cluster. This field indicates the Cluster name this host\nis part of. Cluster names are symbolic and are used internally by Madhava servers to detect Network\nFlow dependencies."),(0,i.kt)("p",null,"The JSON field name is ",(0,i.kt)("inlineCode",{parentName:"p"},"cluster_name")," and corresponding environment variable is ",(0,i.kt)("inlineCode",{parentName:"p"},"CFG_CLUSTER_NAME"),"."),(0,i.kt)("p",null,"This field is mandatory and max cluster name length is 64 bytes. "),(0,i.kt)("h2",{id:"shyama-hosts"},"Shyama Hosts"),(0,i.kt)("p",null,"This config param indicates the list of hostnames of the Shyama instances. The format\nof this param is a JSON array of one or more Shyama hostnames or IP addresses. "),(0,i.kt)("p",null,"This param is to be used along with ",(0,i.kt)("a",{parentName:"p",href:"#shyama-ports"},"Shyama Ports")," to indicate the Shyama servers."),(0,i.kt)("p",null,"If multiple Shyama instances are running due to High Availability, the number of elements in the\nJSON array will be more than 1. Under such cases, the Partha agent will try connecting to only\nthe Active Shyama instance (Other instances being the Passive instances)."),(0,i.kt)("p",null,"The JSON field name is ",(0,i.kt)("inlineCode",{parentName:"p"},"shyama_hosts")," and corresponding environment variable is ",(0,i.kt)("inlineCode",{parentName:"p"},"CFG_SHYAMA_HOSTS"),"."),(0,i.kt)("p",null,"This field is mandatory. "),(0,i.kt)("p",null,"The Hostnames or IP Addresses mentioned in this option must be same as the\n",(0,i.kt)("a",{parentName:"p",href:"./shyama_config#service-hostname"},"Shyama Server Service Hostname"),"."),(0,i.kt)("p",null,"Example usage : ",'[ "shyama1.local", "192.168.0.2" ]'," : Here 2 instances of Shyama are running in\nActive Passive mode."),(0,i.kt)("h2",{id:"shyama-ports"},"Shyama Ports"),(0,i.kt)("p",null,"This config param indicates the list of TCP ports of the Shyama instances. The format\nof this param is a JSON array of one or more Shyama TCP ports."),(0,i.kt)("p",null,"This param is to be used along with ",(0,i.kt)("a",{parentName:"p",href:"#shyama-hosts"},"Shyama Hosts")," to indicate the Shyama servers.\nThe number of elements in this JSON array must match the number of elements specified in\n",(0,i.kt)("a",{parentName:"p",href:"#shyama-hosts"},"Shyama Hosts"),". "),(0,i.kt)("p",null,"The JSON field name is ",(0,i.kt)("inlineCode",{parentName:"p"},"shyama_ports")," and corresponding environment variable is ",(0,i.kt)("inlineCode",{parentName:"p"},"CFG_SHYAMA_PORTS"),"."),(0,i.kt)("p",null,"This field is mandatory."),(0,i.kt)("p",null,"The TCP Ports mentioned in this option must be same as the\n",(0,i.kt)("a",{parentName:"p",href:"./shyama_config#service-port"},"Shyama Server Service Port"),"."),(0,i.kt)("p",null,"Example usage : ","[ 10037, 10037 ]"," : Here 2 instances of Shyama are running in Active Passive mode."),(0,i.kt)("h2",{id:"is-kubernetes"},"Is Kubernetes"),(0,i.kt)("p",null,"This boolean field indicates whether the Host to be monotored is part of a Kubernetes Cluster. This\nfield is used to extract the Kubernetes Pod Name tags for the Host Processes."),(0,i.kt)("p",null,"For Helm Chart installs, this parameter is set to ",(0,i.kt)("inlineCode",{parentName:"p"},"true")," by default. For other install options, the\ndefault is ",(0,i.kt)("inlineCode",{parentName:"p"},"false")),(0,i.kt)("p",null,"The JSON field name is ",(0,i.kt)("inlineCode",{parentName:"p"},"is_kubernetes")," and corresponding environment variable is ",(0,i.kt)("inlineCode",{parentName:"p"},"CFG_IS_KUBERNETES"),"."),(0,i.kt)("p",null,"This field is optional and can contain values of either ",(0,i.kt)("inlineCode",{parentName:"p"},"true")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),"."),(0,i.kt)("h2",{id:"sampling-percent"},"Service Response Sampling Percent"),(0,i.kt)("p",null,"The Partha Agent will collect Queries/sec and Response Time (Latency) for each TCP Listener (Service).\nThis field indicates what percent of the Queries should be checked for calculating the statistics."),(0,i.kt)("p",null,"The default percent is 100% (No sampling). Users can specify minimum of 10%."),(0,i.kt)("p",null,"The JSON field name is ",(0,i.kt)("inlineCode",{parentName:"p"},"response_sampling_percent")," and corresponding environment variable is ",(0,i.kt)("inlineCode",{parentName:"p"},"CFG_RESPONSE_SAMPLING_PERCENT"),"."),(0,i.kt)("p",null,"This field is optional and can contain integer values from 10 to 100."),(0,i.kt)("h2",{id:"cloud-type"},"Cloud Operator Type"),(0,i.kt)("p",null,"This field indicates the Cloud Operator this Madhava instance is running on. This is needed\nto get the Network Region and Zone."),(0,i.kt)("p",null,"Currently supported Cloud Operator Metadata collection are : aws, gcp and azure. "),(0,i.kt)("p",null,"For other Cloud Operators or in case of own data centers, this field should be ignored."),(0,i.kt)("p",null,"The JSON field is ",(0,i.kt)("inlineCode",{parentName:"p"},"cloud_type")," and environment variable is ",(0,i.kt)("inlineCode",{parentName:"p"},"CFG_CLOUD_TYPE"),"."),(0,i.kt)("p",null,"This field is optional."),(0,i.kt)("h2",{id:"region-name"},"Network Region Name"),(0,i.kt)("p",null,"This field must be used only if the preceding ",(0,i.kt)("a",{parentName:"p",href:"#cloud-type"},"Cloud Operator type")," is empty. This field\nindicates the Network Region Name this Madhava host is operating under. "),(0,i.kt)("p",null,"The JSON field is ",(0,i.kt)("inlineCode",{parentName:"p"},"region_name")," and environment variable is ",(0,i.kt)("inlineCode",{parentName:"p"},"CFG_REGION_NAME"),"."),(0,i.kt)("p",null,"This field is optional."),(0,i.kt)("h2",{id:"zone-name"},"Network Zone Name"),(0,i.kt)("p",null,"This field must be used only if the preceding ",(0,i.kt)("a",{parentName:"p",href:"#cloud-type"},"Cloud Operator type")," is empty. This field\nindicates the Network Zone Name this Madhava host is operating under. "),(0,i.kt)("p",null,"The JSON field is ",(0,i.kt)("inlineCode",{parentName:"p"},"zone_name")," and environment variable is ",(0,i.kt)("inlineCode",{parentName:"p"},"CFG_ZONE_NAME"),"."),(0,i.kt)("p",null,"This field is optional."),(0,i.kt)("h2",{id:"sample-json"},"Sample JSON Config file"),(0,i.kt)("p",null,"A sample Madhava JSON config file is provided below :"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'\n    {\n        "cluster_name"              :   "cluster1",\n        "cloud_type"                :   "aws",\n\n        "shyama_hosts"              :   [ "shyama1.local" ],\n        "shyama_ports"              :   [ 10037 ],\n\n        "response_sampling_percent" :   100,\n        "is_kubernetes"             :   true\n    }\n\n')))}m.isMDXComponent=!0}}]);