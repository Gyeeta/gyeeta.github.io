"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5829],{5162:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(7294),r=a(6010);const s="tabItem_Ymn6";function l(e){let{children:t,hidden:a,className:l}=e;return n.createElement("div",{role:"tabpanel",className:(0,r.Z)(s,l),hidden:a},t)}},5488:(e,t,a)=>{a.d(t,{Z:()=>b});var n=a(7462),r=a(7294),s=a(6010),l=a(2389),o=a(7392),i=a(7094),d=a(2466);const u="tabList__CuJ",p="tabItem_LNqP";function m(e){var t;const{lazy:a,block:l,defaultValue:m,values:b,groupId:c,className:v}=e,g=r.Children.map(e.children,(e=>{if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),h=b??g.map((e=>{let{props:{value:t,label:a,attributes:n}}=e;return{value:t,label:a,attributes:n}})),k=(0,o.l)(h,((e,t)=>e.value===t.value));if(k.length>0)throw new Error(`Docusaurus error: Duplicate values "${k.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const y=null===m?m:m??(null==(t=g.find((e=>e.props.default)))?void 0:t.props.value)??g[0].props.value;if(null!==y&&!h.some((e=>e.value===y)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${y}" but none of its children has the corresponding value. Available values are: ${h.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:f,setTabGroupChoices:w}=(0,i.U)(),[N,C]=(0,r.useState)(y),T=[],{blockElementScrollPositionUntilNextRender:I}=(0,d.o5)();if(null!=c){const e=f[c];null!=e&&e!==N&&h.some((t=>t.value===e))&&C(e)}const x=e=>{const t=e.currentTarget,a=T.indexOf(t),n=h[a].value;n!==N&&(I(t),C(n),null!=c&&w(c,String(n)))},S=e=>{var t;let a=null;switch(e.key){case"Enter":x(e);break;case"ArrowRight":{const t=T.indexOf(e.currentTarget)+1;a=T[t]??T[0];break}case"ArrowLeft":{const t=T.indexOf(e.currentTarget)-1;a=T[t]??T[T.length-1];break}}null==(t=a)||t.focus()};return r.createElement("div",{className:(0,s.Z)("tabs-container",u)},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.Z)("tabs",{"tabs--block":l},v)},h.map((e=>{let{value:t,label:a,attributes:l}=e;return r.createElement("li",(0,n.Z)({role:"tab",tabIndex:N===t?0:-1,"aria-selected":N===t,key:t,ref:e=>T.push(e),onKeyDown:S,onClick:x},l,{className:(0,s.Z)("tabs__item",p,null==l?void 0:l.className,{"tabs__item--active":N===t})}),a??t)}))),a?(0,r.cloneElement)(g.filter((e=>e.props.value===N))[0],{className:"margin-top--md"}):r.createElement("div",{className:"margin-top--md"},g.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==N})))))}function b(e){const t=(0,l.Z)();return r.createElement(m,(0,n.Z)({key:String(t)},e))}},402:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>d,default:()=>c,frontMatter:()=>i,metadata:()=>u,toc:()=>m});var n=a(7462),r=(a(7294),a(3905)),s=a(5488),l=a(5162),o=a(6823);const i={title:"Node Webserver Installation",description:"Node Webserver Installation",keywords:["node","webserver","installation"]},d="Node Webserver Installation",u={unversionedId:"installation/nodewebserver_install",id:"installation/nodewebserver_install",title:"Node Webserver Installation",description:"Node Webserver Installation",source:"@site/docs/installation/nodewebserver_install.md",sourceDirName:"installation",slug:"/installation/nodewebserver_install",permalink:"/docs/installation/nodewebserver_install",draft:!1,editUrl:"https://github.com/gyeeta.github.io/tree/main/docs/installation/nodewebserver_install.md",tags:[],version:"current",lastUpdatedAt:1668540240,formattedLastUpdatedAt:"Nov 15, 2022",frontMatter:{title:"Node Webserver Installation",description:"Node Webserver Installation",keywords:["node","webserver","installation"]},sidebar:"docs",previous:{title:"Node Webserver Configuration",permalink:"/docs/installation/nodewebserver_config"},next:{title:"Alert Action Agent Configuration",permalink:"/docs/installation/alertaction_config"}},p={},m=[{value:"Network Connectivity Requirements",id:"network",level:2},{value:"Installation Instructions",id:"installation-instructions",level:2},{value:"<em>Install using Shell script</em>",id:"shell-script",level:3},{value:"Stopping/Starting/Uninstalling the Node Webserver",id:"stoppingstartinguninstalling-the-node-webserver",level:4},{value:"<em>Kubernetes Helm Chart</em>",id:"helm-chart",level:3},{value:"<em>Running as a Docker container</em>",id:"docker",level:3},{value:"<em>Install using native rpm or deb packages</em>",id:"rpm-deb",level:3},{value:"Debian/Ubuntu based deb package install",id:"debianubuntu-based-deb-package-install",level:4},{value:"Yum or dnf based rpm Installs",id:"yum-or-dnf-based-rpm-installs",level:4},{value:"OpenSUSE / SUSE Linux based rpm Installs",id:"opensuse--suse-linux-based-rpm-installs",level:4},{value:"Node Webserver Configuration post Installation",id:"node-webserver-configuration-post-installation",level:4},{value:"Stopping/Starting/Uninstalling the Node Webserver",id:"stoppingstartinguninstalling-the-node-webserver-1",level:4},{value:"<em>Manual Tar Package install</em>",id:"tar-install",level:3},{value:"Node Webserver Failover / Redundancy",id:"node-webserver-failover--redundancy",level:2}],b={toc:m};function c(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},b,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"node-webserver-installation"},"Node Webserver Installation"),(0,r.kt)("h2",{id:"network"},"Network Connectivity Requirements"),(0,r.kt)("p",null,"Node Webserver connects to Shyama Central server and all Madhava server instances."),(0,r.kt)("p",null,"Firewall rules must allow inbound access to the Node Webserver on the configured Listener port (default port is 10039)."),(0,r.kt)("h2",{id:"installation-instructions"},"Installation Instructions"),(0,r.kt)("p",null,"Different Install Options exist :"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#shell-script"},"Install using Shell Script")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#helm-chart"},"Kubernetes Helm Chart")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#docker"},"Running as a Docker container")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#rpm-deb"},"Install using native rpm or deb packages")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#tar-install"},"Manual Tar Package install"))),(0,r.kt)("p",null,"Except for Kubernetes installs, please ensure that the the Node Webserver Config file in env file format and optional User-Password Mapping\nfile in JSON format are ready as per ",(0,r.kt)("a",{parentName:"p",href:"./nodewebserver_config"},"Node Webserver Config"),"."),(0,r.kt)("h3",{id:"shell-script"},(0,r.kt)("em",{parentName:"h3"},"Install using Shell script")),(0,r.kt)("p",null,"Users can download a shell script that takes care of the installation and configuration of the Webserver instance."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Before installing the Webserver, users need to create a config file as per the ",(0,r.kt)("a",{parentName:"p",href:"./nodewebserver_config"},"Node Webserver Config"),".")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"\ncurl -o /tmp/install-gyeeta-nodewebserver.sh -s https://gyeeta.io/packages/install-gyeeta-nodewebserver.sh\n\n# Then run the install script as : \n# sudo bash /tmp/install-gyeeta-nodewebserver.sh <Path to nodewebserver Config file in bash env format>\n\n# Example Install Command (Please configure the /tmp/nodewebserver.env config file first) :\n\nsudo bash /tmp/install-gyeeta-nodewebserver.sh /tmp/nodewebserver.env\n\n")),(0,r.kt)("p",null,"The install script SHA256 can be checked before installing. The SHA256 of the install script is available at ",(0,r.kt)("a",{parentName:"p",href:"https://gyeeta.io/packages/install-gyeeta-nodewebserver.sh.sum"},"SHA256 file")),(0,r.kt)("h4",{id:"stoppingstartinguninstalling-the-node-webserver"},"Stopping/Starting/Uninstalling the Node Webserver"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Command to stop the Node Webserver"',title:'"Command',to:!0,stop:!0,the:!0,Node:!0,'Webserver"':!0},"\nsudo systemctl stop gyeeta-nodewebserver\n\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Command to start the Node Webserver"',title:'"Command',to:!0,start:!0,the:!0,Node:!0,'Webserver"':!0},"\nsudo systemctl start gyeeta-nodewebserver\n\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Command to uninstall Node Webserver")),(0,r.kt)(s.Z,{mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"UbuntuDebian",label:"Ubuntu / Debian",default:!0,mdxType:"TabItem"},(0,r.kt)(o.Z,{language:"sh",mdxType:"CodeBlock"},"sudo systemctl disable gyeeta-nodewebserver; sudo apt-get remove gyeeta-nodewebserver")),(0,r.kt)(l.Z,{value:"rhel",label:"RHEL / CentOS / Amazon Linux",mdxType:"TabItem"},(0,r.kt)(o.Z,{language:"sh",mdxType:"CodeBlock"},"sudo systemctl disable gyeeta-nodewebserver; sudo yum erase gyeeta-nodewebserver")),(0,r.kt)(l.Z,{value:"suse",label:"SuSE / OpenSuSE",mdxType:"TabItem"},(0,r.kt)(o.Z,{language:"sh",mdxType:"CodeBlock"},"sudo systemctl disable gyeeta-nodewebserver; sudo zypper remove gyeeta-nodewebserver")),(0,r.kt)(l.Z,{value:"fedora",label:"Fedora Linux",mdxType:"TabItem"},(0,r.kt)(o.Z,{language:"sh",mdxType:"CodeBlock"},"sudo systemctl disable gyeeta-nodewebserver; sudo dnf remove gyeeta-nodewebserver"))),(0,r.kt)("h3",{id:"helm-chart"},(0,r.kt)("em",{parentName:"h3"},"Kubernetes Helm Chart")),(0,r.kt)("p",null,"Kubernetes 1.18 or higher is needed along with Helm v3."),(0,r.kt)("p",null,"Refer to ",(0,r.kt)("a",{parentName:"p",href:"./k8s_helm"},"Gyeeta Helm Charts")," for a detailed explanation on installing different\nGyeeta components in Kubernetes."),(0,r.kt)("p",null,"A short explanation is shown below :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"\nhelm repo add gyeeta https://gyeeta.io/helmcharts\nhelm show values gyeeta/nodewebserver > /tmp/nodewebserver.yaml\n\n# Thereafter you can edit the /tmp/nodewebserver.yaml file if you need to change any option. \n# After editing the /tmp/nodewebserver.yaml, install the nodewebserver Helm chart using :\n\nhelm install --namespace gyeeta --create-namespace nodewebserver1  gyeeta/nodewebserver -f /tmp/nodewebserver.yaml\n\n")),(0,r.kt)("h3",{id:"docker"},(0,r.kt)("em",{parentName:"h3"},"Running as a Docker container")),(0,r.kt)("p",null,"An env  config file needs to be created first as per ",(0,r.kt)("a",{parentName:"p",href:"./nodewebserver_config"},"Node Webserver Config")),(0,r.kt)("p",null,"In the example command below, /tmp/nodewebserver.env config file has already been created on the main host."),(0,r.kt)("p",null,"The docker container will only run under userid 1001 and groupid 1001."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"\ndocker run -td --rm --name gyeetawebserver --read-only --user 1001:1001 -p 10039:10039  --env CFG_ENV=/tmp/nodewebserver.env -v /tmp/nodewebserver.env:/tmp/nodewebserver.env:ro ghcr.io/gyeeta/nodewebserver\n\n")),(0,r.kt)("h3",{id:"rpm-deb"},(0,r.kt)("em",{parentName:"h3"},"Install using native rpm or deb packages")),(0,r.kt)("p",null,"Gyeeta native rpm or deb packages are available. The install is to be followed by Node Webserver configuration."),(0,r.kt)("h4",{id:"debianubuntu-based-deb-package-install"},"Debian/Ubuntu based deb package install"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'\ncurl https://pkg.gyeeta.workers.dev/pgp-key.public | sudo gpg --yes --dearmor --output /usr/share/keyrings/gyeeta-keyring.gpg\necho "deb [arch=amd64 signed-by=/usr/share/keyrings/gyeeta-keyring.gpg] https://pkg.gyeeta.workers.dev/apt-repo stable main" | sudo tee /etc/apt/sources.list.d/gyeeta.list\nsudo apt-get update\nsudo apt-get install -y gyeeta-nodewebserver\n\n')),(0,r.kt)("h4",{id:"yum-or-dnf-based-rpm-installs"},"Yum or dnf based rpm Installs"),(0,r.kt)("p",null,"For RHEL, Amazon Linux, CentOS, Rocky Linux, Fedora based distributions."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"\nsudo rpm --import https://pkg.gyeeta.workers.dev/pgp-key.public\nsudo curl -s -o /etc/yum.repos.d/gyeeta.repo https://pkg.gyeeta.workers.dev/rpm-repo/gyeeta.repo\n\nif command -v yum > /dev/null; then \n    sudo yum -y update\n    sudo yum install -y gyeeta-nodewebserver\nelse\n    sudo dnf -y update\n    sudo dnf install -y gyeeta-nodewebserver\nfi  \n\n")),(0,r.kt)("h4",{id:"opensuse--suse-linux-based-rpm-installs"},"OpenSUSE / SUSE Linux based rpm Installs"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"\nsudo rpm --import https://pkg.gyeeta.workers.dev/pgp-key.public\nsudo curl -s -o /etc/zypp/repos.d/gyeeta.repo https://pkg.gyeeta.workers.dev/rpm-repo/gyeeta.repo\nsudo zypper -q -n install gyeeta-nodewebserver\n\n")),(0,r.kt)("h4",{id:"node-webserver-configuration-post-installation"},"Node Webserver Configuration post Installation"),(0,r.kt)("p",null,"After the deb or rpm package has been installed, the nodewebserver config file ",(0,r.kt)("inlineCode",{parentName:"p"},"/opt/gyeeta/nodewebserver/.env")," needs\nto be edited as per ",(0,r.kt)("a",{parentName:"p",href:"./nodewebserver_config"},"Node Webserver Config"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Start nodewebserver after editing the .env"',title:'"Start',nodewebserver:!0,after:!0,editing:!0,the:!0,'.env"':!0},"\n# After editing the /opt/gyeeta/nodewebserver/.env config file\n\nsudo systemctl start gyeeta-nodewebserver\nsudo systemctl enable gyeeta-nodewebserver\n\n")),(0,r.kt)("h4",{id:"stoppingstartinguninstalling-the-node-webserver-1"},"Stopping/Starting/Uninstalling the Node Webserver"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Command to stop the Node Webserver"',title:'"Command',to:!0,stop:!0,the:!0,Node:!0,'Webserver"':!0},"\nsudo systemctl stop gyeeta-nodewebserver\n\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Command to start the Node Webserver"',title:'"Command',to:!0,start:!0,the:!0,Node:!0,'Webserver"':!0},"\nsudo systemctl start gyeeta-nodewebserver\n\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Command to uninstall Node Webserver")),(0,r.kt)(s.Z,{mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"UbuntuDebian",label:"Ubuntu / Debian",default:!0,mdxType:"TabItem"},(0,r.kt)(o.Z,{language:"sh",mdxType:"CodeBlock"},"sudo systemctl disable gyeeta-nodewebserver; sudo apt-get remove gyeeta-nodewebserver")),(0,r.kt)(l.Z,{value:"rhel",label:"RHEL / CentOS / Amazon Linux",mdxType:"TabItem"},(0,r.kt)(o.Z,{language:"sh",mdxType:"CodeBlock"},"sudo systemctl disable gyeeta-nodewebserver; sudo yum erase gyeeta-nodewebserver")),(0,r.kt)(l.Z,{value:"suse",label:"SuSE / OpenSuSE",mdxType:"TabItem"},(0,r.kt)(o.Z,{language:"sh",mdxType:"CodeBlock"},"sudo systemctl disable gyeeta-nodewebserver; sudo zypper remove gyeeta-nodewebserver")),(0,r.kt)(l.Z,{value:"fedora",label:"Fedora Linux",mdxType:"TabItem"},(0,r.kt)(o.Z,{language:"sh",mdxType:"CodeBlock"},"sudo systemctl disable gyeeta-nodewebserver; sudo dnf remove gyeeta-nodewebserver"))),(0,r.kt)("h3",{id:"tar-install"},(0,r.kt)("em",{parentName:"h3"},"Manual Tar Package install")),(0,r.kt)("p",null,"If none of the above options can be used to install the Gyeeta nodewebserver component, a manual tarball extract and configure\ncan be used to install."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Example Install Command"',title:'"Example',Install:!0,'Command"':!0},"\nmkdir ~/gyeeta\ncd ~/gyeeta\ncurl -L https://github.com/Gyeeta/nodewebserver/releases/download/v0.1.0/nodewebserver.tar.gz | tar xzf -\ncd ./nodewebserver\n\n# Thereafter edit the .env Node Webserver config file and then start the Webserver as\n\n./runwebserver.sh start\n\n")),(0,r.kt)("h2",{id:"node-webserver-failover--redundancy"},"Node Webserver Failover / Redundancy"),(0,r.kt)("p",null,"Node Webserver servers can be setup for Multi Node High Availablity by installing 2 or more instances of Node Webservers."),(0,r.kt)("p",null,"Please refer to ",(0,r.kt)("a",{parentName:"p",href:"./failover"},"Failover")," for further details."))}c.isMDXComponent=!0}}]);